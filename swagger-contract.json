{"openapi":"3.0.1","info":{"title":"Clube Quinze API","description":"REST API para o ecossistema Clube Quinze","contact":{"name":"Clube Quinze"},"version":"v1"},"servers":[{"url":"http://72.60.242.216:8080","description":"Generated server url"}],"security":[{"bearerAuth":[]}],"paths":{"/api/v1/users/{userId}":{"get":{"tags":["Usuários"],"operationId":"getUserById","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserProfileResponse"}}}}}},"put":{"tags":["Usuários"],"operationId":"updateUserById","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserProfileResponse"}}}}}}},"/api/v1/users/me":{"get":{"tags":["Usuários"],"operationId":"getCurrentUser","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserProfileResponse"}}}}}},"put":{"tags":["Usuários"],"operationId":"updateCurrentUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserProfileResponse"}}}}}}},"/api/v1/preferences/{preferenceId}":{"put":{"tags":["Preferências de Atendimento"],"operationId":"updatePreference","parameters":[{"name":"preferenceId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PreferenceRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PreferenceResponse"}}}}}},"delete":{"tags":["Preferências de Atendimento"],"operationId":"deletePreference","parameters":[{"name":"preferenceId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/v1/plans/{planId}":{"put":{"tags":["Planos"],"operationId":"updatePlan","parameters":[{"name":"planId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlanRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PlanResponse"}}}}}},"delete":{"tags":["Planos"],"operationId":"deletePlan","parameters":[{"name":"planId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/v1/appointments/{appointmentId}/reschedule":{"put":{"tags":["Agendamentos"],"operationId":"reschedule","parameters":[{"name":"appointmentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppointmentRescheduleRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AppointmentResponse"}}}}}}},"/api/v1/preferences":{"get":{"tags":["Preferências de Atendimento"],"operationId":"listPreferences","parameters":[{"name":"userId","in":"query","required":false,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PreferenceResponse"}}}}}}},"post":{"tags":["Preferências de Atendimento"],"operationId":"upsertPreference","parameters":[{"name":"userId","in":"query","required":false,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PreferenceRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PreferenceResponse"}}}}}}},"/api/v1/plans":{"post":{"tags":["Planos"],"operationId":"createPlan","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlanRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PlanResponse"}}}}}}},"/api/v1/feedbacks":{"get":{"tags":["Feedback"],"operationId":"listFeedback","parameters":[{"name":"userId","in":"query","required":false,"schema":{"type":"integer","format":"int64"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":20}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageResponseFeedbackResponse"}}}}}},"post":{"tags":["Feedback"],"operationId":"submitFeedback","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FeedbackRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/FeedbackResponse"}}}}}}},"/api/v1/community/posts":{"get":{"tags":["Comunidade"],"operationId":"listPosts","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":20}},{"name":"authorId","in":"query","required":false,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageResponsePostResponse"}}}}}},"post":{"tags":["Comunidade"],"operationId":"createPost","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PostResponse"}}}}}}},"/api/v1/community/posts/{postId}/likes":{"post":{"tags":["Comunidade"],"operationId":"likePost","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/LikeResponse"}}}}}},"delete":{"tags":["Comunidade"],"operationId":"unlikePost","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/v1/community/posts/{postId}/comments":{"post":{"tags":["Comunidade"],"operationId":"addComment","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CommentResponse"}}}}}}},"/api/v1/auth/register":{"post":{"tags":["Autenticação"],"operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}}}}},"/api/v1/auth/refresh":{"post":{"tags":["Autenticação"],"operationId":"refresh","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}}}}},"/api/v1/auth/logout":{"post":{"tags":["Autenticação"],"operationId":"logout","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenRequest"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/v1/auth/login":{"post":{"tags":["Autenticação"],"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}}}}},"/api/v1/appointments":{"get":{"tags":["Agendamentos"],"operationId":"listAppointments","parameters":[{"name":"status","in":"query","required":false,"schema":{"type":"string","enum":["SCHEDULED","COMPLETED","CANCELED"]}},{"name":"clientId","in":"query","required":false,"schema":{"type":"integer","format":"int64"}},{"name":"startDate","in":"query","required":false,"schema":{"type":"string","format":"date"}},{"name":"endDate","in":"query","required":false,"schema":{"type":"string","format":"date"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":20}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageResponseAppointmentResponse"}}}}}},"post":{"tags":["Agendamentos"],"operationId":"schedule","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppointmentRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AppointmentResponse"}}}}}}},"/api/v1/appointments/{appointmentId}/status":{"patch":{"tags":["Agendamentos"],"operationId":"updateStatus","parameters":[{"name":"appointmentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppointmentStatusUpdateRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AppointmentResponse"}}}}}}},"/api/v1/feedbacks/me":{"get":{"tags":["Feedback"],"operationId":"listMyFeedback","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":20}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageResponseFeedbackResponse"}}}}}}},"/api/v1/feedbacks/averages/users/{userId}":{"get":{"tags":["Feedback"],"operationId":"getUserAverage","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"number","format":"double"}}}}}}},"/api/v1/feedbacks/averages/services":{"get":{"tags":["Feedback"],"operationId":"getAverageByService","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FeedbackAverageResponse"}}}}}}}},"/api/v1/community/posts/{postId}":{"get":{"tags":["Comunidade"],"operationId":"getPost","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PostResponse"}}}}}},"delete":{"tags":["Comunidade"],"operationId":"deletePost","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/v1/appointments/me":{"get":{"tags":["Agendamentos"],"operationId":"listMyAppointments","parameters":[{"name":"status","in":"query","required":false,"schema":{"type":"string","enum":["SCHEDULED","COMPLETED","CANCELED"]}},{"name":"startDate","in":"query","required":false,"schema":{"type":"string","format":"date"}},{"name":"endDate","in":"query","required":false,"schema":{"type":"string","format":"date"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":20}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageResponseAppointmentResponse"}}}}}}},"/api/v1/appointments/availability":{"get":{"tags":["Agendamentos"],"operationId":"listAvailableSlots","parameters":[{"name":"date","in":"query","required":true,"schema":{"type":"string","format":"date"}},{"name":"tier","in":"query","required":false,"schema":{"type":"string","enum":["CLUB_15","QUINZE_SELECT"]}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AvailableSlotResponse"}}}}}}},"/api/v1/community/posts/{postId}/comments/{commentId}":{"delete":{"tags":["Comunidade"],"operationId":"deleteComment","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/v1/appointments/{appointmentId}":{"delete":{"tags":["Agendamentos"],"operationId":"cancel","parameters":[{"name":"appointmentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}}},"components":{"schemas":{"UpdateUserRequest":{"required":["email","membershipTier","name"],"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string"},"birthDate":{"type":"string","format":"date"},"membershipTier":{"type":"string","enum":["CLUB_15","QUINZE_SELECT"]},"planId":{"type":"integer","format":"int64"},"profilePictureUrl":{"type":"string"},"profilePictureBase64":{"type":"string"},"gallery":{"maxItems":4,"minItems":0,"type":"array","items":{"$ref":"#/components/schemas/UserGalleryPhotoRequest"}}}},"UserGalleryPhotoRequest":{"type":"object","properties":{"position":{"type":"integer","format":"int32"},"imageUrl":{"type":"string"},"imageBase64":{"type":"string"}}},"AppointmentResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"clientId":{"type":"integer","format":"int64"},"scheduledAt":{"type":"string","format":"date-time"},"appointmentTier":{"type":"string","enum":["CLUB_15","QUINZE_SELECT"]},"status":{"type":"string","enum":["SCHEDULED","COMPLETED","CANCELED"]},"serviceType":{"type":"string"},"notes":{"type":"string"}}},"PlanSummary":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"description":{"type":"string"},"price":{"type":"number"},"durationMonths":{"type":"integer","format":"int32"}}},"PreferenceResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"key":{"type":"string"},"value":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"UserGalleryPhotoResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"position":{"type":"integer","format":"int32"},"imageUrl":{"type":"string"},"imageBase64":{"type":"string"}}},"UserProfileResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string"},"birthDate":{"type":"string","format":"date"},"membershipTier":{"type":"string","enum":["CLUB_15","QUINZE_SELECT"]},"role":{"type":"string","enum":["CLUB_STANDARD","CLUB_SELECT","CLUB_EMPLOYE","CLUB_ADMIN"]},"plan":{"$ref":"#/components/schemas/PlanSummary"},"createdAt":{"type":"string","format":"date-time"},"lastLogin":{"type":"string","format":"date-time"},"nextAppointment":{"$ref":"#/components/schemas/AppointmentResponse"},"preferences":{"type":"array","items":{"$ref":"#/components/schemas/PreferenceResponse"}},"profilePictureUrl":{"type":"string"},"profilePictureBase64":{"type":"string"},"gallery":{"type":"array","items":{"$ref":"#/components/schemas/UserGalleryPhotoResponse"}}}},"PreferenceRequest":{"required":["key","value"],"type":"object","properties":{"key":{"type":"string"},"value":{"type":"string"}}},"PlanRequest":{"required":["durationMonths","name","price"],"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"price":{"minimum":0.0,"exclusiveMinimum":true,"type":"number"},"durationMonths":{"minimum":1,"type":"integer","format":"int32"}}},"PlanResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"description":{"type":"string"},"price":{"type":"number"},"durationMonths":{"type":"integer","format":"int32"}}},"AppointmentRescheduleRequest":{"required":["newDate"],"type":"object","properties":{"newDate":{"type":"string","format":"date-time"},"notes":{"type":"string"}}},"FeedbackRequest":{"required":["appointmentId"],"type":"object","properties":{"appointmentId":{"type":"integer","format":"int64"},"rating":{"maximum":5,"minimum":1,"type":"integer","format":"int32"},"comment":{"type":"string"}}},"FeedbackResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"appointmentId":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"rating":{"type":"integer","format":"int32"},"comment":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}},"PostMediaRequest":{"type":"object","properties":{"position":{"type":"integer","format":"int32"},"imageUrl":{"type":"string"},"imageBase64":{"type":"string"}}},"PostRequest":{"required":["content","title"],"type":"object","properties":{"title":{"type":"string"},"content":{"type":"string"},"media":{"maxItems":6,"minItems":0,"type":"array","items":{"$ref":"#/components/schemas/PostMediaRequest"}}}},"CommentResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"postId":{"type":"integer","format":"int64"},"authorId":{"type":"integer","format":"int64"},"content":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"PostMediaResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"position":{"type":"integer","format":"int32"},"imageUrl":{"type":"string"},"imageBase64":{"type":"string"}}},"PostResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"authorId":{"type":"integer","format":"int64"},"title":{"type":"string"},"content":{"type":"string"},"media":{"type":"array","items":{"$ref":"#/components/schemas/PostMediaResponse"}},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"likeCount":{"type":"integer","format":"int64"},"comments":{"type":"array","items":{"$ref":"#/components/schemas/CommentResponse"}}}},"LikeResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"postId":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"createdAt":{"type":"string","format":"date-time"}}},"CommentRequest":{"required":["content"],"type":"object","properties":{"content":{"type":"string"}}},"RegisterRequest":{"required":["email","membershipTier","name","password"],"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"},"password":{"maxLength":2147483647,"minLength":8,"type":"string"},"phone":{"type":"string"},"birthDate":{"type":"string","format":"date"},"membershipTier":{"type":"string","enum":["CLUB_15","QUINZE_SELECT"]},"planId":{"type":"integer","format":"int64"}}},"AuthResponse":{"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"tokenType":{"type":"string"}}},"RefreshTokenRequest":{"required":["refreshToken"],"type":"object","properties":{"refreshToken":{"type":"string"}}},"LoginRequest":{"required":["email","password"],"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"AppointmentRequest":{"required":["appointmentTier","clientId","scheduledAt"],"type":"object","properties":{"clientId":{"type":"integer","format":"int64"},"scheduledAt":{"type":"string","format":"date-time"},"appointmentTier":{"type":"string","enum":["CLUB_15","QUINZE_SELECT"]},"serviceType":{"type":"string"},"notes":{"type":"string"}}},"AppointmentStatusUpdateRequest":{"required":["status"],"type":"object","properties":{"status":{"type":"string","enum":["SCHEDULED","COMPLETED","CANCELED"]},"notes":{"type":"string"}}},"PageResponseFeedbackResponse":{"type":"object","properties":{"content":{"type":"array","items":{"$ref":"#/components/schemas/FeedbackResponse"}},"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"page":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"}}},"FeedbackAverageResponse":{"type":"object","properties":{"target":{"type":"string"},"average":{"type":"number","format":"double"}}},"PageResponsePostResponse":{"type":"object","properties":{"content":{"type":"array","items":{"$ref":"#/components/schemas/PostResponse"}},"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"page":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"}}},"PageResponseAppointmentResponse":{"type":"object","properties":{"content":{"type":"array","items":{"$ref":"#/components/schemas/AppointmentResponse"}},"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"page":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"}}},"AvailableSlotResponse":{"type":"object","properties":{"date":{"type":"string","format":"date"},"membershipTier":{"type":"string","enum":["CLUB_15","QUINZE_SELECT"]},"availableSlots":{"type":"array","items":{"type":"string","format":"date-time"}}}}},"securitySchemes":{"bearerAuth":{"type":"http","name":"bearerAuth","scheme":"bearer","bearerFormat":"JWT"}}}}